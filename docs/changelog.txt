FastSM Changelog
================

0.3.2
Add timeline reordering for built-in timelines
Fix autoupdater

0.3.1
Add autoupdater.
Add account creation to the app, both for Bluesky and Mastodon!
Add media playback with VLC, if found. Use sound_lib as fallback. This means youtube will now play.
Add new download yt-dlp and download VLC buttons to the advanced tab of the global options dialog.
The notifications and mentions timelines now save their position on exit and restore it if the post still exists in the timeline the next time you launch the app. This unlike the home timeline sync is local only and doesn't sync with any kind of API.
Fix an issue with line breaks in the notifications buffer.
Add prompt to follow FastSM's support/updates account on new account auth.
Fix mute conversation option.
More work on search, still apparently inoperable?
More extensive support for server filters. Show warnings for those types of posts, don't let editing filters duplicate keywords.
Redesigns poll creation dialog to be more in line with Mastodon poll creation.
Show time remaining in a poll if you view results.
More consistent behavior in the conversations buffer. Replying will reply to the last message in the conversation. Send new message will open the other new message dialog as before.
You can now launch more than one conversation buffer at a time.
Fix accepting/rejecting follower requests.
Add some more keyboard shortcuts to the audio player. E/R/T, speak elapsed/remaining/total time.
Add more confirmations to the confirmations tab
View dialog improvements. Add view edit history, view boosters, view favoriters, view quotes. Also add quote count to the details edit.
View image now appears at the top of context menus.
Image viewer now works for boosted posts.
Profile editor with fields is fixed.
Demojify is fixed to not remove accented characters from display names.
Bookmarks/favorites timelines properly restore on restart.
Improvements to audio playback and URL opening.
Sound now works on Mac.
A bunch of keyboard stuff is fixed on Mac.
Fix spaces being removed after punctuation in notifications and other text. HTML block elements like paragraphs are now properly converted with spaces between them.

0.3.0

Improved image viewer
The app now includes a much better, and actually working, image viewer, which replaces the image viewer which would appear when you press view image in the view post dialog with an image in the post. The new image viewer provides the ability to see all images in a post, as well as get AI image descriptions (see below).

AI image descriptions
You can now get AI descriptions for images in posts. Workflow: first, set up your GPT/Gemini API key, whichever one/ones you want to use, in the AI tab of the settings dialog. Set the service and model you wish to use in the combo box, and tweak the prompt to your liking. Next, on a post with an image, you can view the image/images in the post in a few different ways. The easiest is through the context menu/view image. Other ways include the view post dialog, or the global shortcut, control win alt V by default. Next, you are put in a dialog containing all of the images in the post, which you can move between with the arrows. On each image, there is an edit field with the current description of the image, if one is provided. If you tab, you will eventually find a get AI description button, which when pressed, will kick off the process of getting the AI description. This process may take a bit, depending on your model and service combination. It will then replace the description with the provided AI description.

Mac
FastSM has been able to run on Mac from source for a bit, but this is the first version of FastSM to provide a working, runnable MacOS build.

Audio Player
FastSM now has an audio player, in addition to just playing audio in audio posts. The audio player can be called up by pressing control shift A in the main window, or control win shift A in the invisible interface. In the audio player, you can press up and down arrows to change media volume, as well as left/right to seek. The media volume persists between audio files.
In addition to all of this, the audio player has two settings. One to have the audio player automatically come up when audio starts playing, and another to stop audio from playing when the audio player is closed.

Other audio improvements
You can now set a per account soundpack volume. You can either do this by adjusting the volume in the normal way, and it will only now adjust for the focused account, or you can use the new soundpack volume slider in the account options dialog.

Dark Mode
Add a very hacky/experimental dark mode support in the advanced tab of the app.

Spell Check
It is now possible to check spelling on a post or reply you are writing, with the new spell check button in the new post dialog.

Confirmations
It is now possible to enable confirmations for different toggle actions. For example, you may want a confirmation when you unfollow someone, so that you don't do it accidentally. In the program options dialog, there is now a new confirmations tab where you can enable individual confirmations for things such as favorite, unfavorite, boost, unboost, follow, unfollow.

Other additions/bugfixes
Add enable/disable notifications buttons in the user viewer dialog. This will make Mastodon send a notification to your notifications buffer every time a user with notifications enabled posts.
Add a feature where you can have the app only use a single API call on initial timeline loads.
Add a global shortcut for the update profile option, control win shift U.
Fix quoting. Quoting now works correctly in all cases.
Fix a bug where media descriptions did not show for boosted posts.
Fix a bug where you couldn't unschedule a scheduled post from the scheduled posts timeline.
Fix a bug which meant you couldn't call up the scheduled posts timeline.
Fix the title of conversation buffers when you load a conversation from a boosted post.
Fix deleting bookmarks.
Fix bugs with user selection when loading timelines/profiles.
Fix search timeline errors.
Fix pinned sound in user timelines.
Fix a 404 error when loading user timelines on app startup.
Fix various visual issues with the app.

0.2.2
-----

Bug Fixes:

* Fixed conversation view for boosted posts - now shows replies to the original post, not the boost wrapper
* Fixed favorite/boost state not syncing across buffers - state now updates in all timelines where the post appears
* Fixed template variables in post text being interpreted - $text$ patterns in posts no longer get expanded
* Fixed notification text truncation - removed 280 character limit, full text now shown
* View Image button now only enabled for posts with actual image attachments (not video/audio/gifv)

New Features:

* Direct message sound support
  - Mentions with visibility "direct" now play the "messages" sound instead of "mentions"
  - When mentions timeline is hidden and a mention arrives in notifications, plays appropriate sound (mentions or messages)

0.2.1
-----

Bug Fixes:

* Bluesky notifications: like/repost notifications now show the actual post content
  - Fixed by batch-fetching posts via reasonSubject URI
* User interactions now work from Bluesky notifications
  - Follow, mute, block, view profile, and user timeline actions work on notification actors
  - Relationship checking is now platform-agnostic (Mastodon uses account_relationships, Bluesky uses viewer)
* Fixed follow/unfollow/block/unblock using user ID instead of handle
  - All user interaction methods now properly use user.id (DID for Bluesky, numeric ID for Mastodon)
  - Fixes "Invalid Record Key" errors on Bluesky when unfollowing
* Timeline position syncing fixes
  - Fixed invisible interface sync using wx.CallAfter for thread safety
  - Fixed Mastodon marker API call signature (markers_set)
  - Position now syncs to server on app close
* Soundpack setting now properly saves between restarts
* Quote posts now properly verify quote attachment before reporting success
  - Falls back to URL inclusion if native quoting not supported

New Features:

* Notification viewer dialog - View notifications with dedicated viewer showing notification type, user info, and post content
* Improved HTML to text conversion for post editing - preserves newlines and full mentions
* Conversations can now be copied with Ctrl+C
* Edit post now works from notifications

0.2.0
-----

New Features:

* Earcon sounds system improvements
  - New image.ogg sound for posts with image attachments
  - New poll.ogg sound for posts with polls
  - New pinned.ogg sound for pinned posts
  - New notification.ogg sound when notifications arrive
  - Sounds now play concurrently (no longer cut each other off)
  - Image attachments play image.ogg, video/audio/gifv play media.ogg

* Hashtag support (Mastodon)
  - Follow/unfollow hashtags from context menu
  - View and manage followed hashtags from Application menu

* Explore/Discover dialog (Ctrl+Shift+X)
  - Mastodon: Discover Users, Trending Posts, Trending Tags, Trending Links
  - Bluesky: Suggested Users, Suggested Feeds, Popular Feeds

* Keymap system with inheritance
  - Custom keymaps can be placed in user config keymaps/ folder
  - Keys not defined in custom keymap inherit from default
  - Keymap selection in Advanced options

* User viewer improvements
  - Mute/unmute and block/unblock buttons
  - Show/Hide Boosts toggle (Mastodon only)
  - List Blocked Users and List Muted Users in Application menu

* Poll support
  - View poll options and results in post text
  - Vote on polls via context menu

* Content warning support
  - Three modes: hide (show CW only), show (CW + text), ignore (text only)
  - Configurable in options

* Server filters dialog (Mastodon)
  - View and manage server-side content filters

* Timeline filtering
  - Filter timelines by user or text
  - Save and restore filter settings
  - Find in timeline (F3)

* Context menu on posts (right-click or keyboard shortcut)
  - Context-aware options based on post content and platform

* Mute/unmute conversation (Mastodon)
  - Mute notifications for a thread you're participating in
  - Available in context menu on posts

* Account switching hotkeys

Bluesky Improvements:

* Support for listing blocked/muted users
* Pinning and unpinning posts
* Custom timeline persistence
* Suggested users and feeds in Explore dialog

Mac Compatibility:

* Fixed keyboard shortcuts and accelerators
* Fixed modal dialog focus issues
* Fixed menu dimming after dialogs close
* Fixed OAuth URL opening
* Fixed sounds path for running from source
* Option+M for context menu

Bug Fixes:

* Fixed invisible mode not playing new earcon sounds
* Fixed search timeline error with unexpected 'limit' keyword argument
* Fixed error log path for compiled PyInstaller builds
* Fixed soundpacks list showing hidden files
* Fixed explore dialog follow button
* Fixed mentions_in_notifications not applying on startup
* Fixed soundpan slider float/int conversion
* Fixed opening URLs in boosted/reblogged posts
* Fixed copy to clipboard for boosts using wrong template
* Fixed timeline filter using wrong attribute
* Fixed conversation loading for mentions
* Fixed streaming resilience to transient errors
* Fixed slow startup caused by large user cache files
* Removed soundpack copying to user config (redundant)

Performance:

* User cache now in-memory only (no disk persistence)
* Display cache for custom timelines
* Pre-import atproto in background thread
* More resilient streaming with better error handling


0.1.0
-----
First initial version
